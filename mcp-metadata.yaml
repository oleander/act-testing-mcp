name: act-testing-mcp
description: MCP server for testing GitHub Actions workflows locally using nektos/act

longLived: true

command:
  - node
  - index.js

config:
  - name: act-testing-mcp
    type: object
    properties:
      project-root:
        type: string
        description: Root directory for GitHub Actions workflows
    required:
      - project-root

env:
  - name: NODE_ENV
    value: production
  - name: ACT_BINARY
    value: /usr/local/bin/act

volumes:
  - "{{act-testing-mcp.project-root}}:/workspace"
  - "/var/run/docker.sock:/var/run/docker.sock"
  - "act-cache:/root/.cache/act"

secrets:
  - name: act-testing-mcp.GITHUB_TOKEN
    env: GITHUB_TOKEN
